Run started on Tue Mar 21 13:08:58 2023

Hostname: csx2.cs.ucalgary.ca

-------------------------------------------------------------------------------
Running make |
--------------

% /usr/bin/make

STDOUT:
make: 'golf' is up to date.


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Locating GoLF compiler |
------------------------

Compiler will be run as ./golf

-------------------------------------------------------------------------------
Test: too few arguments |
-------------------------

% ./golf

STDOUT:
Usage: ./golf [filename]


STDERR:


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: too many arguments |
--------------------------

% ./golf /dev/null /dev/zero

STDOUT:


STDERR:
--> /dev/null:1:1
  | 
1 | 
  | ^ error: missing main function


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: nonexistent file |
------------------------

% ./golf /i/do/not/exist

STDOUT:


STDERR:
File /i/do/not/exist not found: "/home/ugb/joseph.vanlierop/Documents/cpsc-411"


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: later global "int" redeclaration |
----------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t1

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t1:4:9
  | 
4 | var foo int
  |         ^~~ error: expected type


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: global var declaration loop |
-----------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t2

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t2:4:9
  | 
4 | var int int
  |         ^~~ error: expected type


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: local var version of check.t2 |
-------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t3

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t3:5:10
  | 
5 |     var int int
  |             ^~~ error: expected type


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: global name test |
------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t4

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t4:6:8
  | 
6 |     printi(b4int)
  |           ^ error: function call does not match function signature


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: block scope check |
-------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t5

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t5:9:9
  | 
9 |             x = "asdf"
  |                  ^~~~ error: invalid operand


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: global var declaration, complex loop |
--------------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t6

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t6:3:9
  | 
3 | var int bool
  |         ^~~~ error: expected type


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: parameter scope test |
----------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t7

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t7:4:8
  | 
4 |     printi(int)
  |           ^ error: function call does not match function signature


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: constants can't be changed |
----------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t8

STDOUT:
program
	func sym=0x2221ca0 @ (3, 1)
		newid [main] @ (3, 6)
		sig
			formals
			typeid [$void] sym=0x22214c0
		block
			= sig=void @ (4, 7)
				id [true] sig=bool sym=0x2221790 @ (4, 2)
				id [false] sig=bool sym=0x2221820 @ (4, 9)


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: nonexistent type name |
-----------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t9

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t9:3:7
  | 
3 | var x notthere
  |       ^~~~~~~~ error: unknown identifier "notthere"


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: type name not a type |
----------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t10

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t10:4:7
  | 
4 | var x t
  |       ^ error: expected type


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: formal parameters need types |
------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t11

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t11:6:21
  | 
6 | func foo(a1 int, a2 main, a3 bool) {
  |                     ^~~~ error: expected type


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: multiple (main) functions, same name |
--------------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t12

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t12:7:6
  | 
7 | func main() {
  |      ^~~~ error: "main" redefined


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: no main function |
------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t13

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t13:1:1
  | 
1 | // main() must be present
  | ^ error: missing main function


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: main can't have arguments |
---------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t14

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t14:3:1
  | 
3 | func main(argc int) {
  | ^ error: main function cannot have arguments


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: main can't have a return value |
--------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t15

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t15:3:1
  | 
3 | func main() int {
  | ^ error: main function cannot have a return type


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: dup check for formal parameters |
---------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t16

STDOUT:
program
	func sym=0x98bf80 @ (4, 1)
		newid [main] @ (4, 6)
		sig
			formals
			typeid [$void] sym=0x98b7a0
		block
			emptystmt
	func sym=0x98c010 @ (7, 1)
		newid [foo] @ (7, 6)
		sig
			formals
				formal
					newid [i] @ (7, 10)
					typeid [int] sym=0x98b8c0 @ (7, 12)
				formal
					newid [b] @ (7, 17)
					typeid [bool] sym=0x98b830 @ (7, 19)
				formal
					newid [i] @ (7, 25)
					typeid [int] sym=0x98b8c0 @ (7, 27)
			typeid [$void] sym=0x98b7a0
		block
			emptystmt


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: function call as lvalue |
-------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t17

STDOUT:
program
	func sym=0x6c8c40 @ (1, 1)
		newid [foo] @ (1, 6)
		sig
			formals
			typeid [int] sym=0x6c8580 @ (1, 12)
		block
			return @ (2, 2)
				int [42] sig=int @ (2, 9)
	func sym=0x6c8cd0 @ (5, 1)
		newid [main] @ (5, 6)
		sig
			formals
			typeid [$void] sym=0x6c8460
		block
			= sig=void @ (6, 8)
				funccall sig=int @ (6, 5)
					id [foo] sig=f() sym=0x6c8c40 @ (6, 2)
					actuals
				int [123] sig=int @ (6, 10)


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: function name as lvalue |
-------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t18

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t18:6:8
  | 
6 |     foo = 123
  |           ^~~ error: invalid operand


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: humongous integer literal |
---------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t19

STDOUT:
program
	func sym=0x5c33c0 @ (3, 1)
		newid [main] @ (3, 6)
		sig
			formals
			typeid [$void] sym=0x5c29c0
		block
			var sym=0x5c3450 @ (4, 2)
				newid [i] @ (4, 6)
				typeid [int] sym=0x5c2ae0 @ (4, 8)
			= sig=void @ (5, 4)
				id [i] sig=int sym=0x5c3450 @ (5, 2)
				int [999999999999999999999999999999999999999999999999] sig=int @ (5, 6)


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: positive integer literal out of range |
---------------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t20

STDOUT:
program
	func sym=0xc59c30 @ (3, 1)
		newid [main] @ (3, 6)
		sig
			formals
			typeid [$void] sym=0xc59450
		block
			var sym=0xc59cc0 @ (4, 2)
				newid [i] @ (4, 6)
				typeid [int] sym=0xc59570 @ (4, 8)
			= sig=void @ (5, 4)
				id [i] sig=int sym=0xc59cc0 @ (5, 2)
				int [2147483647] sig=int @ (5, 6)
			= sig=void @ (6, 4)
				id [i] sig=int sym=0xc59cc0 @ (6, 2)
				int [2147483648] sig=int @ (6, 6)


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: negative integer literal out of range |
---------------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t21

STDOUT:
program
	func sym=0x17b4960 @ (3, 1)
		newid [main] @ (3, 6)
		sig
			formals
			typeid [$void] sym=0x17b4180
		block
			var sym=0x17b49f0 @ (4, 2)
				newid [i] @ (4, 6)
				typeid [int] sym=0x17b42a0 @ (4, 8)
			= sig=void @ (5, 4)
				id [i] sig=int sym=0x17b49f0 @ (5, 2)
				int [-2147483648] sig=int @ (5, 6)
			= sig=void @ (6, 4)
				id [i] sig=int sym=0x17b49f0 @ (6, 2)
				int [-2147483649] sig=int @ (6, 6)


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: "break" not inside "for" loop |
-------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t22

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t22:7:2
  | 
7 |     break
  |     ^~~~~ error: break must be inside a for loop


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: "break" in block, but not in "for" |
------------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t23

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t23:5:3
  | 
5 |         break
  |         ^~~~~ error: break must be inside a for loop


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: "break" in "if" block |
-----------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t24

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t24:5:3
  | 
5 |         break
  |         ^~~~~ error: break must be inside a for loop


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: missing return statement |
--------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t25

STDOUT:
program
	func sym=0x1884a10 @ (3, 1)
		newid [main] @ (3, 6)
		sig
			formals
			typeid [$void] sym=0x1884230
		block
			emptystmt
	func sym=0x1884aa0 @ (6, 1)
		newid [foo] @ (6, 6)
		sig
			formals
			typeid [string] sym=0x18843e0 @ (6, 12)
		block
			emptystmt


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: returning value from void function |
------------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t26

STDOUT:
program
	func sym=0x1cb3b80 @ (3, 1)
		newid [main] @ (3, 6)
		sig
			formals
			typeid [$void] sym=0x1cb33a0
		block
			return @ (4, 2)
				int [123] sig=int @ (4, 9)


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: return type mismatch |
----------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t27

STDOUT:
program
	func sym=0x21e5be0 @ (3, 1)
		newid [main] @ (3, 6)
		sig
			formals
			typeid [$void] sym=0x21e5400
		block
			emptystmt
	func sym=0x21e5c70 @ (6, 1)
		newid [foo] @ (6, 6)
		sig
			formals
			typeid [bool] sym=0x21e5490 @ (6, 12)
		block
			return @ (7, 2)
				int [123] sig=int @ (7, 9)


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: missing return type |
---------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t28

STDOUT:
program
	func sym=0x1b4baa0 @ (3, 1)
		newid [main] @ (3, 6)
		sig
			formals
			typeid [$void] sym=0x1b4b2c0
		block
			emptystmt
	func sym=0x1b4bb30 @ (6, 1)
		newid [foo] @ (6, 6)
		sig
			formals
			typeid [bool] sym=0x1b4b350 @ (6, 12)
		block
			return @ (7, 2)


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: "if" expr not a boolean type |
------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t29

STDOUT:
program
	func sym=0x14f0ff0 @ (3, 1)
		newid [main] @ (3, 6)
		sig
			formals
			typeid [$void] sym=0x14f0690
		block
			if @ (4, 2)
				int [1] sig=int @ (4, 5)
				block
					emptystmt


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: "if"-"else" not a boolean type |
--------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t30

STDOUT:
program
	func sym=0x1d659a0 @ (3, 1)
		newid [main] @ (3, 6)
		sig
			formals
			typeid [$void] sym=0x1d651c0
		block
			if @ (4, 2)
				int [1] sig=int @ (4, 5)
				block
					emptystmt
				else
					block
						emptystmt


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: "for" expr not a boolean type |
-------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t31

STDOUT:
program
	func sym=0x1e34940 @ (3, 1)
		newid [main] @ (3, 6)
		sig
			formals
			typeid [$void] sym=0x1e34160
		block
			for @ (4, 2)
				id [$true] sig=bool sym=0x1e343a0
				block
					emptystmt
			var sym=0x1e349d0 @ (6, 2)
				newid [four] @ (6, 6)
				typeid [bool] sym=0x1e341f0 @ (6, 11)
			for @ (7, 2)
				id [four] sig=bool sym=0x1e349d0 @ (7, 6)
				block
					emptystmt
			var sym=0x1e34a60 @ (9, 2)
				newid [ever] @ (9, 6)
				typeid [string] sym=0x1e34310 @ (9, 11)
			for @ (10, 2)
				id [ever] sig=str sym=0x1e34a60 @ (10, 6)
				block
					emptystmt


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: legit expression statements |
-----------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t32

STDOUT:
program
	func sym=0x21d5110 @ (3, 1)
		newid [main] @ (3, 6)
		sig
			formals
			typeid [$void] sym=0x21d4800
		block
			var sym=0x21d51a0 @ (4, 2)
				newid [i] @ (4, 6)
				typeid [int] sym=0x21d4920 @ (4, 8)
			id [i] sig=int sym=0x21d51a0 @ (5, 2)
			int [42] sig=int @ (6, 2)


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: built-in routine check |
------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t33

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t33:4:15
  | 
4 |         prints("Hello, world!\n");
  |               ^ error: function call does not match function signature


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: actual parameter type check |
-----------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t34

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t34:4:8
  | 
4 |     prints(main)
  |           ^ error: function call does not match function signature


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: operand type mismatch |
-----------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t35

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t35:10:15
   | 
10 |         a = a + b
   |               ^ error: invalid operand


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: another actual parameter type check |
-------------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t36

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t36:7:12
  | 
7 |         foo(123, 456)
  |            ^ error: function call does not match function signature


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: return+argument checks |
------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t37

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t37:4:24
  | 
4 |         return bar(bar(i))
  |                        ^ error: unknown identifier "i"


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: scope check and undefined variable |
------------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t38

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t38:10:3
   | 
10 |         c = 789
   |         ^ error: unknown identifier "c"


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: redefined variable |
--------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t39

STDOUT:
program
	globalvar sym=0x736e60 @ (3, 1)
		newid [a] @ (3, 5)
		typeid [int] sym=0x7367a0 @ (3, 7)
	func sym=0x736ef0 @ (5, 1)
		newid [main] @ (5, 6)
		sig
			formals
			typeid [$void] sym=0x735e80
		block
			var sym=0x736f80 @ (6, 2)
				newid [a] @ (6, 6)
				typeid [bool] sym=0x735f10 @ (6, 8)
			if @ (7, 2)
				id [true] sig=bool sym=0x736950 @ (7, 5)
				block
					var sym=0x737010 @ (8, 3)
						newid [a] @ (8, 7)
						typeid [string] sym=0x736830 @ (8, 9)
					var sym=0x7370a0 @ (9, 3)
						newid [b] @ (9, 7)
						typeid [int] sym=0x7367a0 @ (9, 9)
					block
						var sym=0x737130 @ (11, 4)
							newid [b] @ (11, 8)
							typeid [bool] sym=0x735f10 @ (11, 10)
					var sym=0x7370a0 @ (13, 3)
						newid [b] @ (13, 7)
						typeid [string] sym=0x736830 @ (13, 9)


STDERR:


RETURN CODE: 0

-------------------------------------------------------------------------------
Test: comparable and ordered comparisons |
------------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t40

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t40:4:12
  | 
4 |     "abc" == "def"
  |               ^~~ error: invalid operand


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: int/bool distinction |
----------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t41

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t41:5:6
  | 
5 |     i = true
  |         ^~~~ error: invalid operand


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: deep type propagation |
-----------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t42

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t42:5:14
  | 
5 |     2 + 3 * 5 - 123 >= -(-(-x))
  |                 ^~~ error: invalid operand


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: redefining "true" and "false" |
-------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t43

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t43:7:8
  | 
7 |     printi(true * false)
  |           ^ error: function call does not match function signature


RETURN CODE: 1

-------------------------------------------------------------------------------
Test: call of non-function |
----------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t44

STDOUT:


STDERR:
--> /home/profs/aycock/411/TEST/ms3/check.t44:0:0
 | 
0| 
 | ~~~ error: unknown identifier "asdf"
double free or corruption (out)


*** TERMINATION VIA SIGNAL: Aborted

-------------------------------------------------------------------------------
Test: type id used in wrong context |
-------------------------------------

% ./golf /home/profs/aycock/411/TEST/ms3/check.t45

STDOUT:
program
	func sym=0x72a230 @ (3, 1)
		newid [main] @ (3, 6)
		sig
			formals
			typeid [$void] sym=0x7298d0
		block
			var sym=0x72a2c0 @ (4, 2)
				newid [x] @ (4, 6)
				typeid [int] sym=0x7299f0 @ (4, 8)
			= sig=void @ (5, 4)
				id [x] sig=int sym=0x72a2c0 @ (5, 2)
				id [int] sig=int sym=0x7299f0 @ (5, 6)


STDERR:


RETURN CODE: 0

Run ended on Tue Mar 21 13:08:58 2023

